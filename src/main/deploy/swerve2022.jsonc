{
    "system" : {
        "messages": {
            // Robot framework settings settings
            "actions": true,
            "pathmanager": false,
            "xerorobot": false,
            "simulator": false,

            // Subsystem related messages
            "conveyor" : false,
            "gpm": true,
            "shooter": false,
            "intake" : false,
            "turret" : false,

            // Tank drive related settings
            "pathfollowing": false,
            "swervedrive": false,
            "swerveoi": false
        },
        "verbose" : {
            "swervedrive": true,
            "intake": true,
            "limelight": true,
            "shooter-hood" : true,
            "shooter-wheel" : true
        },
        "plotting" : true,
        "pneumatics": {
            "type": "NONE"
        }
    },
    "subsystems" : {
        "swervedrive" : {
            "pid": {
                "xctrl": {
                    "kp": 0.001,
                    "ki": 0,
                    "kd": 0
                },
                "yctrl": {
                    "kp": 0.001,
                    "ki": 0,
                    "kd": 0,
                },
                "rotation": {
                    "kp": 0.001,
                    "ki": 0,
                    "kd": 0,
                },

            },
            "hw" : {
                "gyro" : {
                    "type" : "navx",
                    "start-time" : 3.0
                },
                "fl" : {
                    "steer" : {
                        "canid" : 11
                    },
                    "drive" : {
                        "canid" : 12
                    },
                    "encoder" : {
                        "canid" : 13,
                        "offset" : 75.0
                    }
                },
                "fr" : {
                    "steer" : {
                        "canid" : 21
                    },
                    "drive" : {
                        "canid" : 22
                    },
                    "encoder" : {
                        "canid" : 23,
                        "offset" : 99.7                        
                    }
                },
                "bl" : {
                    "steer" : {
                        "canid" : 41
                    },
                    "drive" : {
                        "canid" : 42
                    },
                    "encoder" : {
                        "canid" : 43,
                        "offset" : -79.9       
                    }
                },
                "br" : {
                    "steer" : {
                        "canid" : 31
                    },
                    "drive" : {
                        "canid" : 32
                    },
                    "encoder" : {
                        "canid" : 33,
                        "offset" : 45.45
                    }
                }               
            },
            "pids" : {
                "fl" : {
                    "kp" : 0.1,
                    "ki" : 0.0,
                    "kd" : 0.0,
                    "kf" : 0.236,
                    "min" : -1.0,
                    "max" : 1.0,
                    "imax" : 0.0                    
                },
                "fr" : {
                    "kp" : 0.1,
                    "ki" : 0.0,
                    "kd" : 0.0,
                    "kf" : 0.26,
                    "min" : -1.0,
                    "max" : 1.0,
                    "imax" : 0.0                    
                },
                "bl" : {
                    "kp" : 0.1,
                    "ki" : 0.0,
                    "kd" : 0.0,
                    "kf" : 0.219,
                    "min" : -1.0,
                    "max" : 1.0,
                    "imax" : 0.0                    
                },
                "br" : {
                    "kp" : 0.1,
                    "ki" : 0.0,
                    "kd" : 0.0,
                    "kf" : 0.256,
                    "min" : -1.0,
                    "max" : 1.0,
                    "imax" : 0.0                    
                }                
            },
            "physical" : {
                "width" : 0.5715,               // meters
                "length" : 0.5842,              // meters
                "maxspeed" : 4.14528,           // meters per second
                "maxvoltage" : 12.0,
                "max-angular-speed": 100,
                "max-angular-accel": 100
            },
            "electrical" : {
                "max-voltage" : 12.0,
                "nominal-voltage" : 11.0,
                "steer-current-limit" : 10.0,
                "drive-current-limit" : 30.0
            }
        },   
        "swerve2022oi" : {
            "swerve_gamepad" : {
                "index" : 0,
                "angle" : {
                    "maximum" : 180,
                    "deadband" : 0.05
                },
                "position" : {
                    "maximum" : 4.5,
                    "deadband" : {
                        "x" : 0.1,
                        "y" : 0.1
                    }
                },
                "power" : 1.5
            },
            "panel" : {
                "index" : 2,
                "gadgets": {
                    "automode": 0,
                    "shoot_collect_mode": 6,
                    "collect_onoff": 3,
                    "climb_lock": 4,
                    "climb": 9,
                    "deploy_climber" : 7,
                    "force_shoot" : 1,
                    "eject" : 2,
                    "shoot_manual_mode" : 5,
                    "throughput" : 8
                },
                "outputs" : {
                    "ball1" : 1,
                    "ball2" : 2,
                    "shooting" : {
                        "limelight": 3,
                        "turret" : 4,
                        "shooter" : 5,
                        "distance" : 6
                    }
                }
            }
        },
        "limelight": {
            "timeout": 8.0,
            "camera_latency": 0.011,
            "network_latency": 0.010,
            "camera_angle": 41, // change this
            "camera_height": 29.75, // change this
            "target_height": 103
        },
        "intake" : {
            "hw" : {
                "motors" : {
                    "type" : "talon_fx",
                    "canid" : 1,
                    "neutral_mode" : "coast"
                },
                "encoder" : {
                    "type" : "motor",
                    "m" : 1.0,
                    "b" : 0.0
                },
                "spinner" : {
                    "motor" : {
                        "type" : "sparkmax_brushless",
                        "canid" : 2,
                        "inverted" : true
                    }
                }
            },
            "hold" : {
//                 "kp" : 0.0002,
                "kp": 0.0001,
                "ki" : 0,
                "kd" : 0,
                "kf" : 0,
                "min" : -0.60,
                "max" : 0.60,
                "imax" : 0
            },
            "goto" : {
                "threshold" : 10,
                "maxd" : -40000,
                "maxa" : 40000,
                "maxv" : 40000
            },
            "collect" : {
                "onpos" : 7500,
                "offpos" : 0,
                "onpower" : 0.05
            },
            "collector" : {
                "onpower" : 0.8,
                "offpower" : 0,
                "ejectpower": -0.8
            },
            "follower" : {
                "up" : {
                    "kp" : 0.0000,
                    "ka" : 0.0,
                    "ki" : 0.0,
                    "kd" : 0.0,
                    "kv" : 0.000011
                },
                "down" : {
                    "kp" : 0.0000,
                    "ka" : 0.0,
                    "ki" : 0.0,
                    "kd" : 0.0,
                    "kv" : 0.000019
                }
            }
        },
        "agitator": {
            "ejectpower": -1.0,
            "forwardpower":0.8,
            "offpower":0,
            "hw": {
                "motors": {
                    "type": "talon_fx",
                    "canid": 4
                }
            }
        },  
        "conveyor" : {
            "hw" : {
                "motors" : {
                    "type" : "talon_fx",
                    "canid" : 3,
                    "neutral_mode" : "brake",
                    "inverted" : true
                }
            },
            "sensors" : {
                "intake" : 0,
                "shooter" : 1,
                "middle" : 2
            },
            "power" : {
                "collect" : 0.8,
                "off" : 0.0,
                "eject" : -1.0,
                "shoot" : 0.8
            },
            "duration" : {
                "eject" : 1.0,
                "shoot" : 1.0
            }
        },
        "turret" : {
            "hw" : {
                "motors" : {
                    "type" : "talon_fx",
                    "canid" : 7,
                    "neutral_mode" : "coast",
                    "inverted": true
                },
                "encoder" : {
                    "type": "analog",
                    "ainput": 1,
                    "rmin": -180.0,
                    "rmax": 180.0,
                    "emin": 0.0,
                    "emax": 5.0,
                    "ec": 4.998779,
                    "rc": 0.0
                }
            },
            "follow" : {
                "kp" : 0.025,
                "kf" : 0.0,
                "ki" : 0.05,
                "kd" : 0.00,
                "min" : -0.4,
                "max" : 0.4,
                "imax" : 6.0
            },
            "maxpos" : 90.0,
            "minpos" : -90.0,
            "fire_threshold": 2.0            
        },
        "zeke_limelight": {
            "timeout": 8.0,
            "camera_latency": 0.011,
            "network_latency": 0.010,
            "camera_angle": 28.83,
            "camera_height": 51.0,
            "target_height": 103
        },
        "targettracker": {
            "camera_offset_angle": 3.0,
            "lost_count": 10,
            "track_method": "v"
        },
        "shooter": {
            "shooter-action": {
                "wheel-velocity-threshold": 10,
                "hood-position-threshold": 10
            },
            "ramprate" : 1.0,
            "fire-plot-duration" : 10.0,
            "spinup-power" : 0.4
        },
        "shooter-wheel": {
            "hw": {
                "motors": {
                    "1": {
                        "type": "talon_fx",
                        "canid": 26,
                        "inverted" : true                        
                    },
                    "2": {
                        "type": "talon_fx",
                        "canid": 27
                    }
                },
                "encoder": {
                    "type": "motor",

                    // These values are not used for scaling the velocity
                    // value from the shooter.  See the ShooterWheelSubsystem class.
                    "m": 0.366210938,
                    "b": 0.0
                }
            },
            "wheels": {
                "kp": 0.0001,
                "ki": 0.001,
                "kd": 0.00005,
                "kf": 0.000152,
                "max": 1.0,
                "min": -1.0,
                "imax": 10.0,
                "use-sw" : true,
                "plot-duration" : 1.0
            }
        },
        "shooter-hood": {
            "hw": {
                "motors": {
                    "type": "sparkmax_brushless",
                    "canid": 6,
                    "neutral_mode" : "coast"
                },
                "encoder" : {
                    "type": "analog",
                    "ainput": 0,
                    "rmin": -100,
                    "rmax": 900.0,
                    "emin": 0.0,
                    "emax": 5.0,
                    "ec": 2.872,
                    "rc": 0.0
                }
            },
            "hoodpos": {
                "kp": 0.001,
                "ki": 0.0,
                "kd": 0.0,
                "kf": 0.0,
                "max": 1.0,
                "min": -1.0,
                "imax": 0.0
            },
            "maxpos" : 800.0,
            "minpos" : 0.0
        },
        "gpm" : {
            "fire-plot-duration" : 10.0,
            "fire-action" : {
                "default-hood-position" : 400,
                "default-wheel-velocity" : 3500,
                "max-db-velocity" : 0.1,
                "hood-threshold" : 10,
                "wheel-threshold" : 7,
                "hood-pwl" : {
                    "1" : {
                        "x" : 56,
                        "y" : 100
                    },
                    "2" : {
                        "x" : 75,
                        "y" : 100
                    },
                    "3" : {
                        "x" : 93,
                        "y" : 200
                    },
                    "4" : {
                        "x" : 111,
                        "y" : 250
                    },
                    "5" : {
                        "x" : 130,
                        "y" : 275
                    },
                    "6" : {
                        "x" : 150,
                        "y" : 300
                    },
                    "7" : {
                        "x" : 169,
                        "y" : 400
                    },
                    "8" : {
                        "x" : 190,
                        "y" : 450
                    },
                    "9" : {
                        "x" : 213,
                        "y" : 500
                    },
                    "10" : {
                        "x" : 227,
                        "y" : 700
                    }
                },
                "velocity-pwl" : {
                    "1" : {
                        "x" : 56,
                        "y" : 1800
                    },
                    "2" : {
                        "x" : 75,
                        "y" : 2000
                    },
                    "3" : {
                        "x" : 93,
                        "y" : 2000
                    },
                    "4" : {
                        "x" : 111,
                        "y" : 2000
                    },
                    "5" : {
                        "x" : 130,
                        "y" : 2100
                    },
                    "6" : {
                        "x" : 150,
                        "y" : 2200
                    },
                    "7" : {
                        "x" : 169,
                        "y" : 2200
                    },
                    "8" : {
                        "x" : 190,
                        "y" : 2300
                    },
                    "9" : {
                        "x" : 213,
                        "y" : 2400
                    },
                    "10" : {
                        "x" : 227,
                        "y" : 2700
                    }
                }
            }
        }
    },
    "automodes" : {
        "fourball" : {                      // Values for the auto mode named 'four-ball'
            "p1" : {
                "end-angle" : 0.0,           // The end angle for the path 'p1' in the automode 'four-ball'
                "collect-delay" : 0.0        // The delay after starting collect action and before driving for path 'p1'
            },
            "p2" : {
                "end-angle" : 0.0,
                "collect-delay" : 0.0
            },
            "p3" : {
                "end-angle" : 0.0
            }
        },
        "twoballleft" : {
            "p1" : {
                "end-angle" : 0.0,           // The end angle for the path 'p1' in the automode 'four-ball'
                "collect-delay" : 1.0        // The delay after starting collect action and before driving for path 'p1'
            }
        },
        "twoballright" : {
            "p1" : {
                "end-angle" : 0.0,           // The end angle for the path 'p1' in the automode 'four-ball'
                "collect-delay" : 1.0        // The delay after starting collect action and before driving for path 'p1'
            }
        }
    },
    "testmode" : {
        "enabled" : true,
        "which" : 62,
        "0" : {
            "angle" : 0.0,
            "power" : 0.2
        },
        "1" : {
            "angle" : 0.0,
            "power" : 0.9,
            "duration" : 1.5
        },
        "2" : {
            "angle" : 0.0,
            "speed" : 0.5
        },
        "3" : {
            "angle" :0.0,
            "speed" : 2, 
            "duration" : 6.0
        },
        "4" : {
            "name" :"fourball_pa",
            "endangle" : 0.0
        },
        "5" : {
            "angle" :0.0,
            "power" : 0.1,
            "duration" : 10 
        },
        "10" : {
            "duration" : 4
        },
        "11" : {
            "power" : 0.2,
            "duration" : 0.2
        },
        "12" : {
        },
        "20" : {
            "power" : 0.5,
            "duration" : 2.0
        },
        "30" : {
            "power" : 0.5,
            "duration" : 5.0
        },
        "40" : {
            "power" : 0.5,
            "duration" : 12
        },
        "41" : {
            "velocity" : 2000
        },
        "50" : {
            // Hood move motor test mode
            "power" : 0.7,
            "duration" : 0.5
        },
        "51" : {
            "position" : 300
        },
        "60" : {
            // Turret move motor test mode
            "power" : 0.20,
            "duration" : 0.5
        },
        "61" : {
            "angle" : 4
        },
        "62" :{
            "delay" : 3.0
        },
        "80" : {
            "delay" : 20
        },
        "82" : {
            "delay": 3
        }
    }
}
